<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-数据挖掘" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/17/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/" class="article-date">
  <time class="dt-published" datetime="2022-05-17T08:49:36.190Z" itemprop="datePublished">2022-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="数据仓库："><a href="#数据仓库：" class="headerlink" title="数据仓库："></a>数据仓库：</h2><h3 id="特点："><a href="#特点：" class="headerlink" title="特点："></a><strong>特点：</strong></h3><ol>
<li><p>面向主题</p>
<p>数据仓库都是基于某个明确主题，仅需要与该主题相关的数据。</p>
</li>
<li><p>集成性</p>
</li>
<li><p>随时间变化</p>
</li>
<li><p>稳定性</p>
</li>
</ol>
<h3 id="数据仓库系统："><a href="#数据仓库系统：" class="headerlink" title="数据仓库系统："></a>数据仓库系统：</h3><ol>
<li>数据源</li>
<li>数据的存储与管理</li>
<li>OLAP服务器</li>
<li>前端工具与应用</li>
</ol>
<h3 id="应用："><a href="#应用：" class="headerlink" title="应用："></a>应用：</h3><ol>
<li>决策支持</li>
<li>客户分类与评价</li>
<li>市场自动化</li>
</ol>
<h1 id="一元线性回归"><a href="#一元线性回归" class="headerlink" title="一元线性回归"></a>一元线性回归</h1><p>分析预测房子的大小（平方英尺）和房价（美元）之间的对应关系</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">%matplotlib inline</span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.size&#x27;</span>]=<span class="number">13</span></span><br><span class="line">y=[<span class="number">6450</span>, <span class="number">7450</span>, <span class="number">8450</span>, <span class="number">9450</span>, <span class="number">11450</span>, <span class="number">15450</span>, <span class="number">18450</span>]</span><br><span class="line">x=[<span class="number">150</span>,<span class="number">200</span>, <span class="number">250</span>,<span class="number">300</span>, <span class="number">350</span>, <span class="number">400</span>, <span class="number">600</span>]</span><br><span class="line">plt.scatter(x,y)  <span class="comment">#散点图</span></span><br><span class="line">plt.xlabel(<span class="string">&#x27;面积(平方英尺)&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;售价(美元）&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>对鸢尾花数据集中的’petal-length’和’petal-width’两列数据进行回归分析</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris </span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line">%matplotlib inline</span><br><span class="line">iris = load_iris()   <span class="comment">#导入数据集iris</span></span><br><span class="line">data=pd.DataFrame(iris.data)</span><br><span class="line">data.columns=[<span class="string">&#x27;sepal-length&#x27;</span>, <span class="string">&#x27;sepal-width&#x27;</span>, <span class="string">&#x27;petal-length&#x27;</span>, <span class="string">&#x27;petal-width&#x27;</span>]</span><br><span class="line">data.head()   <span class="comment">#显示前5行</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用sklearn完成一元线性回归</span></span><br><span class="line">x = data[<span class="string">&#x27;petal-length&#x27;</span>].values  <span class="comment"># 设置值</span></span><br><span class="line">y = data[<span class="string">&#x27;petal-width&#x27;</span>].values   </span><br><span class="line">x = x.reshape(<span class="built_in">len</span>(x),<span class="number">1</span>)			<span class="comment">#设置大小</span></span><br><span class="line">y = y.reshape(<span class="built_in">len</span>(y),<span class="number">1</span>)</span><br><span class="line">clf = LinearRegression()        <span class="comment">#定义线性回归对象</span></span><br><span class="line">clf.fit(x,y)					<span class="comment">#对数据进行训练</span></span><br><span class="line">pre = clf.predict(x)			<span class="comment">#预测</span></span><br><span class="line">plt.scatter(x,y,s=<span class="number">50</span>)			<span class="comment">#散点绘制</span></span><br><span class="line">plt.plot(x,pre,<span class="string">&#x27;r-&#x27;</span>,linewidth=<span class="number">2</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;petal-length&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;petal-width&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> idx, m <span class="keyword">in</span> <span class="built_in">enumerate</span>(x):  </span><br><span class="line">    plt.plot([m,m],[y[idx],pre[idx]], <span class="string">&#x27;g-&#x27;</span>)  </span><br><span class="line">plt.show()</span><br><span class="line"><span class="comment">#显示相关参数</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">u&quot;系数&quot;</span>, clf.coef_  )</span><br><span class="line"><span class="built_in">print</span>(<span class="string">u&quot;截距&quot;</span>, clf.intercept_  )</span><br><span class="line"><span class="built_in">print</span>(np.mean(y-pre)**<span class="number">2</span>  )</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(clf.predict([[<span class="number">3.9</span>]]) )<span class="comment">#长度3.9，预测宽度</span></span><br></pre></td></tr></table></figure>

<h1 id="多元线性回归"><a href="#多元线性回归" class="headerlink" title="多元线性回归"></a>多元线性回归</h1><p><strong>多元线性回归的假设检验及其评价</strong></p>
<ol>
<li><p>将回归方程中所有变量作为一个整体来检验它们与因变量之间是否具有线性关系(方差分析法、复相关系数);</p>
</li>
<li><p>对回归方程的预测或解释能力做出综合评价（决定系数);</p>
</li>
<li><p>在此基础上进一步对各个变量的重要性作为评价（偏回归平方和、 t检验和标准回归系数)。</p>
</li>
</ol>
<p><strong>建模</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#导包</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression   </span><br><span class="line"><span class="comment">#引入多元线性回归算法模块进行相应的训练</span></span><br><span class="line">simple2=LinearRegression()<span class="comment">#定义线性回归模型</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split<span class="comment">#从模型选择划分自变量</span></span><br><span class="line"><span class="comment">#训练集的数据，测试集的数据，训练集的标签（类型）和测试集y值</span></span><br><span class="line">x_train,x_test,y_train,y_test=train_test_split(x,y,random_state=<span class="number">666</span>)</span><br><span class="line"><span class="comment">#训练集 训练模型</span></span><br><span class="line">simple2.fit(x_train,y_train)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;多元线性回归模型系数：\n&#x27;</span>,simple2.coef_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;多元线性回归模型常数项：&#x27;</span>,simple2.intercept_)</span><br><span class="line">y_predict=simple2.predict(x_test)<span class="comment">#利用测试集数据进行预测</span></span><br></pre></td></tr></table></figure>

<p>模型分析</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_absolute_error</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> r2_score    </span><br><span class="line"><span class="comment">#直接调用库函数进行输出R2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;预测值的均方误差：&#x27;</span>,mean_squared_error(y_test,y_predict))</span><br><span class="line"><span class="built_in">print</span>(r2_score(y_test,y_predict))</span><br><span class="line"><span class="built_in">print</span>(simple2.score(x_test,y_test))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;各特征间的系数矩阵：\n&#x27;</span>,simple2.coef_)            </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;影响房价的特征排序：\n&#x27;</span>,np.argsort(simple2.coef_))  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;影响房价的特征排序：\n&#x27;</span>,</span><br><span class="line">d.feature_names[np.argsort(simple2.coef_)])</span><br></pre></td></tr></table></figure>



<h1 id="逻辑回归分析"><a href="#逻辑回归分析" class="headerlink" title="逻辑回归分析"></a>逻辑回归分析</h1><p>线性回归预测连续的值</p>
<p>逻辑回归预测离散的值</p>
<p><strong>预处理</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#对训练值个测试集进行划分，用自带的模型选择的划分方法</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">                                                          <span class="comment">#测试集百分比</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = <span class="number">0.25</span>, random_state = <span class="number">0</span>)<span class="comment">#随机的状态值</span></span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line">sc = StandardScaler()</span><br><span class="line">X_train = sc.fit_transform(X_train)<span class="comment">#拟合数据</span></span><br><span class="line">X_test = sc.transform(X_test)<span class="comment">#数据标准化</span></span><br><span class="line"><span class="built_in">print</span>(X_train[:<span class="number">5</span>])</span><br></pre></td></tr></table></figure>

<p>训练并预测</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression<span class="comment">#导入方法</span></span><br><span class="line">classifier = LogisticRegression(random_state = <span class="number">0</span>)<span class="comment">#建立对象</span></span><br><span class="line">classifier.fit(X_train, y_train) <span class="comment">#训练</span></span><br><span class="line">y_pred = classifier.predict(X_test)<span class="comment">#预测</span></span><br><span class="line"><span class="comment">#用LogisticRegression自带的score获得模型在测试集上的准确性</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;预测值的得分:%.3f&#x27;</span>%classifier.score(X_test,y_test))</span><br></pre></td></tr></table></figure>

<h1 id="多项式回归"><a href="#多项式回归" class="headerlink" title="多项式回归"></a>多项式回归</h1><p>准备数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">x = np.random.uniform(-<span class="number">3</span>,<span class="number">3</span>, size=<span class="number">100</span>) <span class="comment"># 产生100个随机数</span></span><br><span class="line">X = x.reshape(-<span class="number">1</span>,<span class="number">1</span>) <span class="comment">#将x变成矩阵，1行1列的形式（-1的值由其他维度决定）</span></span><br><span class="line">                      <span class="comment">#增加噪声</span></span><br><span class="line">y = <span class="number">0.5</span> * x**<span class="number">2</span> +x +<span class="number">2</span> + np.random.normal(<span class="number">0</span>,<span class="number">1</span>,size=<span class="number">100</span>) </span><br><span class="line">plt.scatter(x,y)<span class="comment">#散点图</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>线性回归</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"><span class="comment">#线性回归</span></span><br><span class="line">lin_reg = LinearRegression()</span><br><span class="line">lin_reg.fit(X,y)</span><br><span class="line">y_predict = lin_reg.predict(X)</span><br><span class="line"><span class="comment">#可视化</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.family&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>]=<span class="literal">False</span></span><br><span class="line">plt.title(<span class="string">&#x27;线性回归&#x27;</span>)</span><br><span class="line">plt.scatter(x,y)</span><br><span class="line">plt.plot(x,y_predict,color=<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p>多项式回归</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> PolynomialFeatures</span><br><span class="line">poly = PolynomialFeatures(degree=<span class="number">2</span>) <span class="comment">#建立对象，设置幂的次数</span></span><br><span class="line"><span class="comment">#设置最多添加几次幂的特征项</span></span><br><span class="line">poly.fit(X)<span class="comment">#拟合</span></span><br><span class="line">x2 = poly.transform(X)<span class="comment">#标准化</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"><span class="comment">#接下来的代码和线性回归一致</span></span><br><span class="line">lin_reg2 = LinearRegression()</span><br><span class="line">lin_reg2.fit(x2,y)</span><br><span class="line">y_predict2 = lin_reg2.predict(x2)</span><br><span class="line"></span><br><span class="line">plt.scatter(x,y)</span><br><span class="line">plt.plot(np.sort(x),y_predict2[np.argsort(x)],color=<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;多项式回归&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="岭回归"><a href="#岭回归" class="headerlink" title="岭回归"></a>岭回归</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt  </span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Ridge,RidgeCV   </span><br><span class="line"><span class="comment"># Ridge岭回归，RidgeCV带有广义交叉验证的岭回归</span></span><br><span class="line">data=[</span><br><span class="line">    [<span class="number">0.07</span>,<span class="number">3.12</span>],[<span class="number">0.41</span>,<span class="number">3.82</span>],[<span class="number">0.99</span>,<span class="number">4.55</span>],[<span class="number">0.73</span>,<span class="number">4.25</span>],[<span class="number">0.98</span>,<span class="number">4.56</span>],</span><br><span class="line">    [<span class="number">0.55</span>,<span class="number">3.92</span>],[<span class="number">0.34</span>,<span class="number">3.53</span>],[<span class="number">0.03</span>,<span class="number">3.15</span>],[<span class="number">0.13</span>,<span class="number">3.11</span>],[<span class="number">0.13</span>,<span class="number">3.15</span>],</span><br><span class="line">    [<span class="number">0.31</span>,<span class="number">3.47</span>],[<span class="number">0.65</span>,<span class="number">4.12</span>],[<span class="number">0.73</span>,<span class="number">4.28</span>],[<span class="number">0.23</span>,<span class="number">3.48</span>],[<span class="number">0.96</span>,<span class="number">4.65</span>],</span><br><span class="line">    [<span class="number">0.62</span>,<span class="number">3.95</span>],[<span class="number">0.36</span>,<span class="number">3.51</span>],[<span class="number">0.15</span>,<span class="number">3.12</span>],[<span class="number">0.63</span>,<span class="number">4.09</span>],[<span class="number">0.23</span>,<span class="number">3.46</span>],</span><br><span class="line">    [<span class="number">0.08</span>,<span class="number">3.22</span>],[<span class="number">0.06</span>,<span class="number">3.19</span>],[<span class="number">0.92</span>,<span class="number">4.63</span>],[<span class="number">0.71</span>,<span class="number">4.29</span>],[<span class="number">0.01</span>,<span class="number">3.08</span>],</span><br><span class="line">    [<span class="number">0.34</span>,<span class="number">3.45</span>],[<span class="number">0.04</span>,<span class="number">3.16</span>],[<span class="number">0.21</span>,<span class="number">3.36</span>],[<span class="number">0.61</span>,<span class="number">3.99</span>],[<span class="number">0.54</span>,<span class="number">3.89</span>] ]</span><br><span class="line"><span class="comment">#生成X和y矩阵</span></span><br><span class="line">dataMat = np.array(data)    </span><br><span class="line">X = dataMat[:,<span class="number">0</span>:<span class="number">1</span>]   <span class="comment"># 变量x</span></span><br><span class="line">y = dataMat[:,<span class="number">1</span>]   <span class="comment">#变量y</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 岭回归建模</span></span><br><span class="line">model = Ridge(alpha=<span class="number">0.5</span>)<span class="comment">#定义模型</span></span><br><span class="line">model = RidgeCV(alphas=[<span class="number">0.1</span>, <span class="number">1.0</span>, <span class="number">10.0</span>])  <span class="comment">#设置参数</span></span><br><span class="line"><span class="comment"># RidgeCV可以设置多个参数，算法使用交叉验证获取最佳参数值</span></span><br><span class="line">model.fit(X, y)   <span class="comment"># 训练或拟合</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;系数矩阵:&#x27;</span>,model.coef_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;线性回归模型:\n&#x27;</span>,model)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(&#x27;交叉验证最佳alpha值&#x27;,model.alpha_)  交叉验证：先选一部分作为训练集，一部分作为测试集</span></span><br><span class="line"><span class="comment"># 只有在使用RidgeCV算法时才有效</span></span><br><span class="line"><span class="comment"># 使用模型预测</span></span><br><span class="line">predicted = model.predict(X)</span><br><span class="line"><span class="comment"># 绘制散点图 参数：x横轴 y纵轴</span></span><br><span class="line">plt.scatter(X, y, marker=<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">plt.plot(X, predicted,c=<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="comment"># 绘制x轴和y轴坐标</span></span><br><span class="line">plt.xlabel(<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;y&#x27;</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h1 id="Lasson回归"><a href="#Lasson回归" class="headerlink" title="Lasson回归"></a>Lasson回归</h1><p>可以剔除变量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> r2_score</span><br><span class="line"><span class="comment">#def main():</span></span><br><span class="line"><span class="comment"># 产生一些稀疏数据</span></span><br><span class="line">np.random.seed(<span class="number">42</span>)</span><br><span class="line">n_samples, n_features = <span class="number">50</span>, <span class="number">100</span></span><br><span class="line">X = np.random.randn(n_samples, n_features) </span><br><span class="line"><span class="comment"># randn(...)产生的是正态分布的数据</span></span><br><span class="line">coef = <span class="number">3</span> * np.random.randn(n_features)</span><br><span class="line"><span class="comment"># 每个特征对应一个系数</span></span><br><span class="line">inds = np.arange(n_features)</span><br><span class="line">np.random.shuffle(inds)</span><br><span class="line">coef[inds[<span class="number">10</span>:]] = <span class="number">0</span> </span><br><span class="line"><span class="comment"># 稀疏化系数--随机地把系数向量1x200的其中10个值变为0</span></span><br><span class="line">y = np.dot(X, coef) </span><br><span class="line"><span class="comment"># 添加噪声：零均值，标准差为 0.01 的高斯噪声</span></span><br><span class="line">y += <span class="number">0.01</span> * np.random.normal(size=n_samples)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 把数据划分成训练集和测试集</span></span><br><span class="line">n_samples = X.shape[<span class="number">0</span>]</span><br><span class="line">X_train, y_train = X[:n_samples // <span class="number">2</span>], y[:n_samples // <span class="number">2</span>]</span><br><span class="line">X_test, y_test = X[n_samples // <span class="number">2</span>:], y[n_samples // <span class="number">2</span>:]</span><br><span class="line"><span class="comment"># 训练 Lasso 模型</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Lasso</span><br><span class="line">alpha = <span class="number">0.1</span></span><br><span class="line">lasso = Lasso(alpha=alpha)<span class="comment">#创建对象</span></span><br><span class="line">y_pred_lasso = lasso.fit(X_train, y_train).predict(X_test)<span class="comment">#拟合</span></span><br><span class="line"><span class="comment">#进行预测，得到一些系数和得分值</span></span><br><span class="line">r2_score_lasso = r2_score(y_test, y_pred_lasso)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;r^2 on test data : %f&quot;</span> % r2_score_lasso)</span><br><span class="line">plt.plot(lasso.coef_, color=<span class="string">&#x27;gold&#x27;</span>, linewidth=<span class="number">2</span>,label=<span class="string">&#x27;Lasso coefficients&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Lasso R^2: %f&quot;</span> % r2_score_lasso)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>



<p>回归分析定义：</p>
<p>​	回归分析是一种预测性的建模技术，它研究的是因变量（目标)和自变量(预测器)之间的关系</p>
<p>常用：</p>
<p>线性回归、逻辑回归、多项式回归、岭回归等</p>
<p>步骤：</p>
<p>1）收集一组包含因变量和自变量的数据;<br>(2）根据因变量和自变量之间的关系，初步设定回归模型;<br>(3）求解合理的回归系数;<br>(4）进行相关性检验，确定相关系数;<br>(5）利用模型对因变量作出预测或解释，并计算预测值的置信区间。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/17/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/" data-id="cl39wz5i800002k584fu9hmxc" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/17/hello-world/" class="article-date">
  <time class="dt-published" datetime="2022-05-17T08:46:39.034Z" itemprop="datePublished">2022-05-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/05/17/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/05/17/hello-world/" data-id="cl39wx4iv0000cg581twza6mu" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/05/17/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/05/17/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>